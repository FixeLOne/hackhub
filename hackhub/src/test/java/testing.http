### ==============================================
### VARIABILI GLOBALI (Sostituisci i valori dopo la registrazione!)
### ==============================================
# Qui incollerai i token lunghissimi (senza virgolette) che riceverai ai punti 1 e 2
@token0 = eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGVtYWlsLml0IiwiaWF0IjoxNzcxMDkxNzE5LCJleHAiOjE3NzExNzgxMTl9.MO8SnbjOxmDutuCRRVjgeXzoWHhrUnHQwQ7MwlQ1fcg
@token1 = eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJyZWNsdXRhQHRlc3QuaXQiLCJpYXQiOjE3NzEwOTE3NTYsImV4cCI6MTc3MTE3ODE1Nn0.UuC4FuxMJOPlteuOdXH_fzeIw7RCOTMy7Y7NF3WNpms

### ==============================================
### 1. Registra l'utente CAPITANO
### ==============================================
POST http://localhost:8080/api/auth/register
Content-Type: application/json

{
  "nome": "Sasso",
  "cognome": "a",
  "email": "a@email.it",
  "password": "123"
}
# üõë FERMATI QUI! 
# Prendi il valore "token" dalla risposta e incollalo sopra in @tokenCapitano


### ==============================================
### 2. Registra l'utente RECLUTA
### ==============================================
POST http://localhost:8080/api/auth/register
Content-Type: application/json

{
  "nome": "Peter",
  "cognome": "Parker",
  "email": "recluta@test.it",
  "password": "123"
}
# üõë FERMATI QUI! 
# Prendi il valore "token" dalla risposta e incollalo sopra in @tokenRecluta


### ==============================================
### 3. Il Capitano crea il Team "Avengers"
### ==============================================
# üõ°Ô∏è SICUREZZA: Aggiungiamo il token del Capitano
POST http://localhost:8080/api/teams/create
Content-Type: application/json
Authorization: Bearer {{token0}}

{
  "nomeTeam": "Avengers",
  "creatorUserId": 1
}


### ==============================================
### 4. Il Capitano invita la Recluta
### ==============================================
# üõ°Ô∏è SICUREZZA: L'invito lo manda il Capitano, quindi usiamo il suo token
POST http://localhost:8080/api/teams/invite
Content-Type: application/json
Authorization: Bearer {{token0}}

{
  "teamId": 1,
  "emailUtente": "recluta@test.it"
}


### ==============================================
### 5. La Recluta ACCETTA l'invito
### ==============================================
# üõ°Ô∏è SICUREZZA: L'accettazione la fa la Recluta! Qui usiamo @tokenRecluta
POST http://localhost:8080/api/teams/respond-invite
Content-Type: application/json
Authorization: Bearer {{token1}}

{
  "teamId": 1,
  "userId": 2,
  "accetta": true
}


### ==============================================
### 6. Verifica (Opzionale)
### ==============================================
# üõ°Ô∏è SICUREZZA: Il Capitano riprova a inviare (deve fallire con errore di logica)
POST http://localhost:8080/api/teams/invite
Content-Type: application/json
Authorization: Bearer {{token0}}

{
  "teamId": 1,
  "emailUtente": "recluta@test.it"
}